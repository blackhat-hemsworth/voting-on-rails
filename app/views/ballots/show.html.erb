<h1><%= @ballot.name %></h1>

<h3>Votes</h3>
<% @votes.each do |vote| %>
  <div class="vote">
    <div class="column">
      <h5>Topic</h5>
      <%= vote.topic %>
    </div>
    <div class="column">
      <h5>Number of selections</h5>
      <%= vote.n_selections %>
    </div>
    <div class="centered">
      <h5>Choices</h5>
      <% vote.vote_choices.each do |vc| %>
        <div>
          <%= vc.choice %>
        </div>
      <% end %>
    </div>
    <!-- TODO: show votes tallied when tallied -->
  </div>
  <br>
<% end %>

<% if @ballot.created? %>
  <div class="inline-block-child">
    <%= button_to "Edit Ballot",
    edit_election_ballot_path(@election, @ballot),
    method: :get %>
  </div>
  <div class="inline-block-child">
    <%= button_to "Send Ballot",
    send_ballots_election_ballot_path(@election, @ballot),
    method: :post %>
  </div>
  <div class="inline-block-child">
    <%= button_to "Remove Ballot",
    election_ballot_path(@election, @ballot),
    method: :delete %>
  </div>
<% end %>

<% if @ballot.sent? %>
  <!-- TODO: show ballots sent / submitted -->
  <div class="inline-block-child">
    <%= button_to "Close Balloting and Tally Results",
    edit_election_ballot_path(@election, @ballot),
    method: :get %>
  </div>
<% end %>

<%= link_to "Back", @election %>
